# Code Review Plan - Full Repository

**Date:** 2025-12-08  
**Scope:** Entire `mdmdview` codebase (Rust sources, build, CI, sample assets).  
**Goal:** Identify correctness, reliability, security, performance, UX, and maintainability issues; confirm test coverage; note risk areas and follow-ups.

## Inventory
- Rust sources: `src/main.rs`, `src/lib.rs`, `src/app.rs`, `src/markdown_renderer.rs`, `src/window_state.rs`, `src/sample_files.rs`, `src/emoji_*`, `src/table_support/{mod.rs,column_spec.rs,metrics.rs}`.
- Build/config: `Cargo.toml`, `build.rs`, `.github/workflows/*.yml`.
- Docs/examples: `README.md`, `examples/*.md`, `examples/regressions/*.md`, `plans/`, `wrk_docs/`, `wrk_journals/`.

## Review Axes
1) **App lifecycle & window state:** startup args, window persistence, drag/drop, history, error handling (`main.rs`, `app.rs`, `window_state.rs`).
2) **Rendering pipeline:** markdown parsing, table layout, image/code/emoji handling, font/zoom behavior, caching, safety (`markdown_renderer.rs`, `table_support/*`, `emoji_*`).
4) **Performance & memory:** caching, RefCell/borrow patterns, hot paths in renderer/table solver, large file handling.
5) **UX/Accessibility:** shortcuts, focus management, wrap/zoom, error surfacing, persistence behaviors.
6) **Build/CI:** feature flags, env vars, reproducibility, lints/tests in CI.
7) **Tests & coverage:** unit test adequacy for parsing, tables, zoom, window state, app flows.

## Method
1) Skim structure & key docs for intended behavior.  
2) Deep read by module following the axes above; note issues with file:line references.  
3) Run/recall tests (`cargo test`) and note gaps vs. risks.  
4) Summarize findings by severity (P1 critical, P2 high, P3 medium, P4 low) with evidence and recommendations.  
5) Record in review report `wrk_docs/2025.12.08 - CR - Full Repo.md`.

## Deliverables
- This plan file.  
- Comprehensive review report with findings, rationale, and next steps.
