# 2026.01.11 - Branch Coverage Report

## Context
- Repo: mdmdview
- Commit: 02a3f59 (working tree dirty: src/app.rs, src/markdown_renderer.rs, src/mermaid_renderer.rs, wrk_docs/2026.01.11 - Branch Coverage Report.md, wrk_docs/coverage.json, wrk_journals/2026.01.11 - JRN - Branch Coverage Run.md, nul)
- Toolchain: rustc 1.93.0-nightly (6647be936 2025-11-09)
- cargo-llvm-cov: 0.6.21
- Command: `$env:PATH = "C:\Program Files\Git\usr\bin;$env:PATH"; cargo +nightly llvm-cov --branch`

## Execution Notes
- Run succeeded with Git for Windows `patch.exe` on PATH for `rquickjs-sys`.
- `cargo-llvm-cov` warning: 1 functions have mismatched data.

## Coverage Summary (Totals)
- Regions: 29983 total, 1753 missed, 94.15% covered
- Functions: 1582 total, 154 missed, 90.27% covered
- Lines: 18075 total, 653 missed, 96.39% covered
- Branches: 2341 total, 329 missed, 85.95% covered

## Per-File Coverage (src/)
| File | Regions | Functions | Lines | Branches |
| --- | --- | --- | --- | --- |
| src/app.rs | 95.82% (278/6652 missed) | 95.80% (15/357 missed) | 98.16% (79/4299 missed) | 86.89% (75/572 missed) |
| src/emoji_assets.rs | 98.18% (5/274 missed) | 100.00% (0/13 missed) | 100.00% (0/159 missed) | 73.53% (9/34 missed) |
| src/emoji_catalog.rs | 100.00% (0/127 missed) | 100.00% (0/6 missed) | 100.00% (0/139 missed) | n/a (no branches) |
| src/image_decode.rs | 99.12% (3/340 missed) | 100.00% (0/21 missed) | 99.44% (1/178 missed) | 90.62% (3/32 missed) |
| src/main.rs | 96.40% (25/694 missed) | 94.29% (2/35 missed) | 98.59% (5/355 missed) | 95.83% (3/72 missed) |
| src/markdown_renderer.rs | 97.14% (382/13356 missed) | 97.01% (20/669 missed) | 98.09% (157/8238 missed) | 86.79% (131/992 missed) |
| src/mermaid_renderer.rs | 95.07% (265/5378 missed) | 94.12% (14/238 missed) | 94.61% (163/3026 missed) | 80.71% (92/477 missed) |
| src/sample_files.rs | 100.00% (0/131 missed) | 100.00% (0/9 missed) | 100.00% (0/56 missed) | n/a (no branches) |
| src/table_support/column_spec.rs | 98.14% (25/1344 missed) | 95.83% (3/72 missed) | 99.65% (3/867 missed) | 96.08% (4/102 missed) |
| src/table_support/metrics.rs | 100.00% (0/304 missed) | 100.00% (0/27 missed) | 100.00% (0/178 missed) | 100.00% (0/20 missed) |
| src/window_state.rs | 98.87% (7/620 missed) | 100.00% (0/35 missed) | 99.70% (1/336 missed) | 100.00% (0/28 missed) |

## Generated Code in Coverage Output
- `target/llvm-cov-target/.../egl_bindings.rs` and `.../wgl_extra_bindings.rs` show 0% coverage (generated bindings under `glutin_*_sys`).
- Consider excluding generated files via `--ignore-filename-regex` for cleaner totals if desired.

## Observations
- Overall branch coverage improved to 85.95% but remains below the 90% target.
- The largest branch gaps remain in `src/mermaid_renderer.rs` (80.71%) and `src/markdown_renderer.rs` (86.79%).
- `src/app.rs` now has 75 uncovered branches, indicating several UI/state paths remain untested.

## Potential Follow-ups
- Expand branch-focused tests for Markdown table/list parsing and Mermaid rasterization edge cases.
- Add app-level tests for early-return and UI guard branches (empty search, scroll ratio None, invalid monitor sizes).
- Consider excluding generated `glutin_*` bindings from totals if they obscure progress.
