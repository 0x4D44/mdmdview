# Code Review Plan - Full Repo
Date: 2026.01.04

## Code Inventory
- Cargo.toml
- build.rs
- analyze_text.rs
- examples/gen_webp.rs
- src/main.rs
- src/lib.rs
- src/app.rs
- src/window_state.rs
- src/markdown_renderer.rs
- src/mermaid_renderer.rs
- src/image_decode.rs
- src/emoji_catalog.rs
- src/emoji_assets.rs
- src/sample_files.rs
- src/table_support/mod.rs
- src/table_support/metrics.rs
- src/table_support/column_spec.rs
- tools/mermaid_review_pack.py
- tools/mermaid_visual_check.py
- tools/regression/runner.py
- tools/regression/reference_renderer.py
- tests/regression/manifest.toml
- assets/vendor/mermaid.min.js (third-party, minified)

## Review Plan
1. Entry/build/config: Cargo.toml, build.rs, src/main.rs, src/lib.rs.
2. Window lifecycle/persistence: src/window_state.rs and relevant app.rs paths.
3. Core UI and state: src/app.rs (input handling, rendering, persistence, screenshot flow, drag/drop, navigation, search).
4. Rendering stack: src/markdown_renderer.rs, src/mermaid_renderer.rs, src/image_decode.rs.
5. Table subsystem: src/table_support/*.
6. Emoji support and samples: src/emoji_catalog.rs, src/emoji_assets.rs, src/sample_files.rs, examples/gen_webp.rs.
7. Tools/scripts: analyze_text.rs and tools/*.py plus tests/regression/manifest.toml.
8. Third-party assets: assets/vendor/mermaid.min.js (note provenance/licensing; no deep review of minified code).
9. Cross-cutting checks: error handling, panics, I/O safety, UI blocking, performance, threading/concurrency, security.
10. Testing gaps and recommendations.

## Deliverables
- Comprehensive report with findings (severity-ordered), risks, and test recommendations.
