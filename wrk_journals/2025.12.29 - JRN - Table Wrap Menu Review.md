# JRN - Table Wrap Menu Review

Date: 2025.12.29

## Entry 1
Reviewed View menu in `src/app.rs` and renderer toggles in `src/markdown_renderer.rs`. The UI toggle "Table Wrap Overhaul (new/legacy)" is always visible; it flips `table_wrap_overhaul_enabled`, which routes between TableBuilder and the legacy Grid path. CLI/env flags (`--table-wrap`, `--no-table-wrap`, `MDMDVIEW_TABLE_WRAP_OVERHAUL`) also drive the same switch. README and QA/regression docs still reference the UI toggle and legacy fallback.

## Entry 2
Found user-facing docs and regression notes still advertising the overhaul toggle (README feature list, docs/QA-table-wrap.md, examples/regressions/table-wrap.md). CLI/env flags (`--table-wrap`, `--no-table-wrap`, `MDMDVIEW_TABLE_WRAP_OVERHAUL`) remain available, and the status bar tooltip references the View menu toggle. Removal would require updating docs and status text or keeping a hidden/CLI-only fallback.

## Entry 3
Removed the legacy table-wrap toggle and cleaned up docs/config references. README, QA guidance, and the table-wrap regression sample no longer mention the View toggle or CLI/env flags; the regression manifest now omits table_wrap overrides and retitles the no-wrap cases. Baselines for the former no-wrap cases will need a refresh if the regression suite is rerun.

## Entry 4
Fixed clippy warnings after removing legacy paths: gated test-only helpers behind cfg(test), simplified pipe detection, replaced the backtick loop with repeat_n, cleaned map_or/to_vec usage, and allowed too-many-arguments on table divider painting. Ran `cargo fmt --all`, `cargo clippy --all-targets -- -D warnings`, `cargo test`, and `cargo build --release` (build waited for lock then succeeded).

## Entry 5
Ran the regression runner to refresh mdmdview baselines and verify diffs: `python tools/regression/runner.py update-baseline` and `python tools/regression/runner.py run` (both clean).
